<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>Hexo</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Hexo</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/05/08/MySQL或Mariadb忘记密码/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/08/MySQL或Mariadb忘记密码/" itemprop="url">MySQL或Mariadb忘记密码</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-05-08T21:03:31+08:00">
                2018-05-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="MySQL或Mariadb忘记密码"><a href="#MySQL或Mariadb忘记密码" class="headerlink" title="MySQL或Mariadb忘记密码"></a>MySQL或Mariadb忘记密码</h1><p>摘要: <code>mysql</code>和它的分支<code>mariadb</code>，是我们常用的开源数据库之一，有时候我们忘记了密码，或者数据库被入侵者修改了密码，该如何处理呢，本文即描述了解决步骤。</p>
<h2 id="一、停止mysql或者mariadb服务"><a href="#一、停止mysql或者mariadb服务" class="headerlink" title="一、停止mysql或者mariadb服务"></a>一、停止mysql或者mariadb服务</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service mysqld|mariadb stop</span><br></pre></td></tr></table></figure>
<h2 id="二、跳过授权表启动"><a href="#二、跳过授权表启动" class="headerlink" title="二、跳过授权表启动"></a>二、跳过授权表启动</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqld_safe --skip-grant-table &amp;</span><br></pre></td></tr></table></figure>
<h2 id="三、修改mysql-user表的密码"><a href="#三、修改mysql-user表的密码" class="headerlink" title="三、修改mysql.user表的密码"></a>三、修改mysql.user表的密码</h2><p>不用密码登陆<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root</span><br></pre></td></tr></table></figure></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> mysql;</span><br><span class="line"><span class="keyword">update</span> <span class="keyword">user</span> <span class="keyword">set</span> <span class="keyword">password</span>=<span class="keyword">password</span>(<span class="string">'newpass'</span>) <span class="keyword">where</span> <span class="keyword">user</span>=<span class="string">'root'</span>;</span><br><span class="line">exit;</span><br></pre></td></tr></table></figure>
<h2 id="四、杀掉mysqld进程"><a href="#四、杀掉mysqld进程" class="headerlink" title="四、杀掉mysqld进程"></a>四、杀掉mysqld进程</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pkill msqld</span><br></pre></td></tr></table></figure>
<h2 id="五、重启服务"><a href="#五、重启服务" class="headerlink" title="五、重启服务"></a>五、重启服务</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service mysqld|mariadb start</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/05/05/LAB-DOM-Based-cross-site-scripting/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/05/LAB-DOM-Based-cross-site-scripting/" itemprop="url">LAB-DOM-Based-cross-site-scripting</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-05-05T19:46:57+08:00">
                2018-05-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="LAB-DOM-Based-cross-site-scripting"><a href="#LAB-DOM-Based-cross-site-scripting" class="headerlink" title="LAB_DOM-Based_cross-site_scripting"></a>LAB_DOM-Based_cross-site_scripting</h1><h2 id="技术概念或主题（Concept-Topic-To-Teach）"><a href="#技术概念或主题（Concept-Topic-To-Teach）" class="headerlink" title="技术概念或主题（Concept / Topic To Teach）"></a>技术概念或主题（Concept / Topic To Teach）</h2><p>The Document Object Model (DOM) presents an interesting problem from a security standpoint. It allows the content of a web page to be dynamically modified, but that can be abused by attackers during a malicious code injection. XSS, a type of malicious code injection, can occur when unvalidated user input is used directly to modify the content of a page on the client side. </p>
<p>文档对象模型（DOM）从安全的角度展现了一个有趣的问题。它允许动态修改网页内容，但是这可以被攻击者用来进行恶意代码注入攻击。XSS，一种恶意代码注入，一般会发生在未经验证的用户的输入直接修改了在客户端的页面内容的情况下。</p>
<h2 id="技术原理（How-It-works）"><a href="#技术原理（How-It-works）" class="headerlink" title="技术原理（How It works）"></a>技术原理（How It works）</h2><p>HTML DOM 实体中可随时插入新的 HTML 语句或 JavaScript 语句，因此很容易被恶意代码利用，从而用来改变页面显示内容或执行恶意代码。</p>
<p>HTML 标记语言中很多标签的特殊属性参数中允许插入 JS 代码，如：IMG/IFRAME 等。</p>
<h2 id="总体目标（General-Goals）"><a href="#总体目标（General-Goals）" class="headerlink" title="总体目标（General Goals）"></a>总体目标（General Goals）</h2><p>For this exercise, your mission is to use this vulnerability to inject malicious code into the DOM. Then in the last stage, you will correct the flaws in the code to address the vulnerability. </p>
<p>在这个练习中，您的任务是利用此漏洞将恶意代码注入到 DOM，然后在最后阶段，通过修改代码来修复这个缺陷，从而解决该漏洞。</p>
<h2 id="操作方法（Solutions）"><a href="#操作方法（Solutions）" class="headerlink" title="操作方法（Solutions）"></a>操作方法（Solutions）</h2><h3 id="STAGE-1"><a href="#STAGE-1" class="headerlink" title="STAGE 1"></a>STAGE 1</h3><p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/WebGoat/AJAX_Security/_v_images/_1524707693_10761.png" alt=""></p>
<ul>
<li><p>Enter “<code>&lt;IMG SRC=&quot;images/logos/owasp.jpg&quot;/&gt;</code>“ and submit the solution.</p>
<h3 id="STAGE-2"><a href="#STAGE-2" class="headerlink" title="STAGE 2"></a>STAGE 2</h3><p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/WebGoat/AJAX_Security/_v_images/_1524707764_13125.png" alt=""></p>
</li>
<li><p>Enter “<code>&lt;img src=x onerror=;;alert(&#39;XSS&#39;) /&gt;</code>“ and submit the solution.</p>
<h3 id="STAGE-3"><a href="#STAGE-3" class="headerlink" title="STAGE 3"></a>STAGE 3</h3><p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/WebGoat/AJAX_Security/_v_images/_1524707874_18154.png" alt=""></p>
</li>
<li><p>Enter “<code>&lt;IFRAME SRC=&quot;javascript:alert(&#39;XSS&#39;);&quot;&gt;&lt;/IFRAME&gt;</code>“ and submit the solution.</p>
<h3 id="STAGE-4"><a href="#STAGE-4" class="headerlink" title="STAGE 4"></a>STAGE 4</h3><p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/WebGoat/AJAX_Security/_v_images/_1524708069_20706.png" alt=""></p>
</li>
<li><p>Enter “<code>Please enter your password:&lt;BR&gt;&lt;input type = &quot;password&quot; name=&quot;pass&quot;/&gt;&lt;button onClick=&quot;javascript:alert(&#39;I have your password: &#39; + pass.value);&quot;&gt;Submit&lt;/button&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt; &lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;</code>“ and submit the solution.</p>
<h3 id="STAGE-5"><a href="#STAGE-5" class="headerlink" title="STAGE 5"></a>STAGE 5</h3><p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/WebGoat/AJAX_Security/_v_images/_1524726932_17994.png" alt=""></p>
</li>
<li>Modify <code>DOMXSS.js</code>, add <code>escapeHTML()</code> in <code>name</code>, ie <code>escapeHTML(name)</code>, then save it.<br><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/WebGoat/AJAX_Security/_v_images/_1524726820_7375.png" alt=""></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/05/05/LAB-Client-Side-Filtering/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/05/LAB-Client-Side-Filtering/" itemprop="url">LAB-Client-Side-Filtering</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-05-05T19:41:52+08:00">
                2018-05-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="LAB-Client-Side-Filtering"><a href="#LAB-Client-Side-Filtering" class="headerlink" title="LAB_Client_Side_Filtering"></a>LAB_Client_Side_Filtering</h1><h2 id="技术概念或主题（Concept-Topic-To-Teach）"><a href="#技术概念或主题（Concept-Topic-To-Teach）" class="headerlink" title="技术概念或主题（Concept / Topic To Teach）"></a>技术概念或主题（Concept / Topic To Teach）</h2><p>It is always a good practice to send to the client only information which they are supposed to have access to. In this lesson, too much information is being sent to the client, creating a serious access control problem. </p>
<p>## </p>
<h2 id="技术原理（How-It-works）"><a href="#技术原理（How-It-works）" class="headerlink" title="技术原理（How It works）"></a>技术原理（How It works）</h2><p>服务端与客户端数据交互过程虽然被页面代码进行了隐藏，但仍然可以通过 Firebug、IEWatch、WebScarab 等工具捕获到，直接显示在用户眼前。</p>
<h2 id="总体目标（General-Goals）"><a href="#总体目标（General-Goals）" class="headerlink" title="总体目标（General Goals）"></a>总体目标（General Goals）</h2><p>For this exercise, your mission is exploit the extraneous information being returned by the server to discover information to which you should not have access. </p>
<h2 id="操作方法（Solutions）"><a href="#操作方法（Solutions）" class="headerlink" title="操作方法（Solutions）"></a>操作方法（Solutions）</h2><h3 id="STAGE-1"><a href="#STAGE-1" class="headerlink" title="STAGE 1"></a>STAGE 1</h3><p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/WebGoat/AJAX_Security/_v_images/_1524728212_27520.png" alt=""></p>
<ul>
<li>Press F12 and find <code>id=&quot;hiddenEmployeeRecords&quot;</code>, then find <code>id=&quot;112&quot;</code></li>
</ul>
<h3 id="STAGE-2"><a href="#STAGE-2" class="headerlink" title="STAGE 2"></a>STAGE 2</h3><p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/WebGoat/AJAX_Security/_v_images/_1524729085_24441.png" alt=""></p>
<ul>
<li>Find clientSideFiltering.jsp file and modify the fields in the figure as shown below</li>
</ul>
<p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/WebGoat/AJAX_Security/_v_images/_1524729109_7936.png" alt=""></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/05/04/LAB-Role-Based-Access-Control/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/04/LAB-Role-Based-Access-Control/" itemprop="url">LAB-Role-Based-Access-Control</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-05-04T06:45:01+08:00">
                2018-05-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="LAB-Role-Based-Access-Control"><a href="#LAB-Role-Based-Access-Control" class="headerlink" title="LAB_Role_Based_Access_Control"></a>LAB_Role_Based_Access_Control</h1><h2 id="技术概念或主题（Concept-Topic-To-Teach）"><a href="#技术概念或主题（Concept-Topic-To-Teach）" class="headerlink" title="技术概念或主题（Concept / Topic To Teach）"></a>技术概念或主题（Concept / Topic To Teach）</h2><p>n role-based access control scheme, a role represents a set of access permissions and privileges. A user can be assigned one or more roles. A role-based access control normally consists of two parts: role permission management and role assignment. A broken role-based access control scheme might allow a user to perform accesses that are not allowed by his/her assigned roles, or somehow obtain unauthorized roles.</p>
<h2 id="技术原理（How-It-works）"><a href="#技术原理（How-It-works）" class="headerlink" title="技术原理（How It works）"></a>技术原理（How It works）</h2><p>很多网站都尝试使用基于角色的方式严格限制资源访问，但开发人员在实现这类解决方<br>案时容易出现疏忽。</p>
<h2 id="总体目标（General-Goals）"><a href="#总体目标（General-Goals）" class="headerlink" title="总体目标（General Goals）"></a>总体目标（General Goals）</h2><p>Your goal is to explore the access control rules that govern this site. Each role has permission to certain resources (A-F). Each user is assigned one or more roles. Only the user with the [Admin] role should have access to the ‘F’ resources. In a successful attack, a user doesn’t have the [Admin] role can access resource F.</p>
<h2 id="操作方法（Solutions）"><a href="#操作方法（Solutions）" class="headerlink" title="操作方法（Solutions）"></a>操作方法（Solutions）</h2><h3 id="Stage-1：Bypass-Business-Layer-Access-Control"><a href="#Stage-1：Bypass-Business-Layer-Access-Control" class="headerlink" title="Stage 1：Bypass_Business_Layer_Access_Control"></a>Stage 1：Bypass_Business_Layer_Access_Control</h3><p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/WebGoat/Access_Control_Flaws/_v_images/_1525385512_27517.png" alt=""></p>
<ul>
<li><p>登录进<code>Tom</code>的账户，点击<code>ViewProfile</code>，抓包。<br><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/WebGoat/Access_Control_Flaws/_v_images/_1525385846_3113.png" alt=""></p>
</li>
<li><p>修改<code>ViewProfile</code>为<code>DeleteProfile</code></p>
</li>
</ul>
<h4 id="疑问"><a href="#疑问" class="headerlink" title="疑问"></a>疑问</h4><ul>
<li>Q: <code>DeleteProfile</code>是怎么被发现的？换句话说，我是如何知道要把<code>ViewProfile</code>改成<code>DeleteProfile</code>而不是其他的单词？</li>
<li>A1: 代码审计？</li>
<li><p>A2: 通过观察管理员的管理界面发现<code>DeleteProfile</code>功能</p>
<h3 id="Stage-2-Add-Business-Layer-Access-Control"><a href="#Stage-2-Add-Business-Layer-Access-Control" class="headerlink" title="Stage 2: Add_Business_Layer_Access_Control"></a>Stage 2: Add_Business_Layer_Access_Control</h3><p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/WebGoat/Access_Control_Flaws/_v_images/_1525386134_20365.png" alt=""></p>
<h3 id="Stage-3-Bypass-Data-Layer-Access-Control"><a href="#Stage-3-Bypass-Data-Layer-Access-Control" class="headerlink" title="Stage 3: Bypass Data Layer Access Control"></a>Stage 3: Bypass Data Layer Access Control</h3><p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/WebGoat/Access_Control_Flaws/_v_images/_1525386305_31699.png" alt=""></p>
</li>
<li><p>登录到<code>Tom</code>的账户，点击<code>ViewProfile</code>，抓包<br><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/WebGoat/Access_Control_Flaws/_v_images/_1525386662_8091.png" alt=""></p>
</li>
<li><p>修改<code>emloyee_id</code>，来查看其他人的信息</p>
<h4 id="疑问-1"><a href="#疑问-1" class="headerlink" title="疑问"></a>疑问</h4></li>
<li>Q：我如何知道其他人的<code>id</code>？</li>
<li>A：爆破？<h3 id="Stage-4：Add-Data-Layer-Access-Control"><a href="#Stage-4：Add-Data-Layer-Access-Control" class="headerlink" title="Stage 4：Add Data Layer Access Control"></a>Stage 4：Add Data Layer Access Control</h3><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/WebGoat/Access_Control_Flaws/_v_images/_1525386847_22184.png" alt=""></li>
</ul>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>所谓访问控制缺陷，就是开发人员认为用户不能更改一些参数或输入，因此忽略了这些输入的校验，从而导致用户可以越权操作，造成危害，修补措施当然是对用户的所有输入进行严格校验，反过来想，黑盒测试的时候传入服务器的每一个参数都是一个潜在的利用点。那么如何确认这个点是可以利用的还是不可以利用的，什么时候该花精力绕过，什么时候应该果断放弃，我觉得是最大的问题，而对于白盒审计，追踪参数即可。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/05/03/日语第一课/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/03/日语第一课/" itemprop="url">日语第一课</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-05-03T23:25:44+08:00">
                2018-05-03
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="第一课"><a href="#第一课" class="headerlink" title="第一课"></a>第一课</h1><h2 id="日本文字的构成"><a href="#日本文字的构成" class="headerlink" title="日本文字的构成"></a>日本文字的构成</h2><p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/%E6%97%A5%E8%AF%AD/_v_images/_1525360231_7962.png" alt=""></p>
<h3 id="罗马音"><a href="#罗马音" class="headerlink" title="罗马音"></a>罗马音</h3><p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/%E6%97%A5%E8%AF%AD/_v_images/_1525360380_20877.png" alt=""></p>
<h3 id="平假名"><a href="#平假名" class="headerlink" title="平假名"></a>平假名</h3><p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/%E6%97%A5%E8%AF%AD/_v_images/_1525360405_32175.png" alt=""></p>
<h3 id="片假名"><a href="#片假名" class="headerlink" title="片假名"></a>片假名</h3><p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/%E6%97%A5%E8%AF%AD/_v_images/_1525360458_6536.png" alt=""></p>
<h2 id="五十音-あ行"><a href="#五十音-あ行" class="headerlink" title="五十音 あ行"></a>五十音 あ行</h2><p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/%E6%97%A5%E8%AF%AD/_v_images/_1525360515_25904.png" alt=""></p>
<h3 id="あ-い"><a href="#あ-い" class="headerlink" title="あ　い"></a>あ　い</h3><p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/%E6%97%A5%E8%AF%AD/_v_images/_1525360587_25808.png" alt=""></p>
<p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/%E6%97%A5%E8%AF%AD/_v_images/_1525360596_15764.png" alt=""></p>
<h3 id="う-え"><a href="#う-え" class="headerlink" title="う え"></a>う え</h3><p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/%E6%97%A5%E8%AF%AD/_v_images/_1525360604_28172.png" alt=""></p>
<p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/%E6%97%A5%E8%AF%AD/_v_images/_1525360613_10063.png" alt=""></p>
<h3 id="お"><a href="#お" class="headerlink" title="お"></a>お</h3><p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/%E6%97%A5%E8%AF%AD/_v_images/_1525360626_27319.png" alt=""></p>
<p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/%E6%97%A5%E8%AF%AD/_v_images/_1525360633_9560.png" alt=""></p>
<h2 id="音调"><a href="#音调" class="headerlink" title="音调"></a>音调</h2><p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/%E6%97%A5%E8%AF%AD/_v_images/_1525360667_12184.png" alt=""></p>
<p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/%E6%97%A5%E8%AF%AD/_v_images/_1525360672_18533.png" alt=""></p>
<p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/%E6%97%A5%E8%AF%AD/_v_images/_1525360677_25987.png" alt=""></p>
<p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/%E6%97%A5%E8%AF%AD/_v_images/_1525360684_27910.png" alt=""><br><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/%E6%97%A5%E8%AF%AD/_v_images/_1525360691_14745.png" alt=""></p>
<h2 id="个人感受"><a href="#个人感受" class="headerlink" title="个人感受"></a>个人感受</h2><p>这个节奏感觉还是可以的，但是只做这么点作业肯定是不够。</p>
<p>基本上日语五十音相当于汉语拼音的地位，我的熟练程度显然不行。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/05/03/TCP-IP初探/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/03/TCP-IP初探/" itemprop="url">TCP/IP初探</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-05-03T20:08:14+08:00">
                2018-05-03
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="TCP-IP初探"><a href="#TCP-IP初探" class="headerlink" title="TCP_IP初探"></a>TCP_IP初探</h1><p><strong>TCP/IP</strong>的全称是<strong>Transmission Control Protocol/Internet Protocol</strong>，中译名为<strong>传输控制协议/因特网互联协议</strong>，又名<strong>网络通讯协议</strong>，是<strong>Internet</strong>最基本的协议、<strong>Internet</strong>国际互联网络的基础，由<strong>网络层</strong>的<strong>IP协议</strong>和<strong>传输层</strong>的<strong>TCP协议</strong>组成。<strong>TCP/IP</strong>定义了电子设备如何连入因特网，以及数据如何在它们之间传输的标准。协议采用了<strong>4层</strong>的层级结构，每一层都呼叫它的下一层所提供的协议来完成自己的需求。</p>
<p>通俗而言：<strong>TCP</strong>负责发现传输的问题，一有问题就发出信号，要求重新传输，直到所有数据安全正确地传输到目的地。而<strong>IP</strong>是给因特网的每一台联网设备规定一个地址。</p>
<p><strong>TCP/IP</strong>是一组通信协议的代名词，是由一系列协议组成的协议簇。它本身指两个协议集：</p>
<ul>
<li>TCP 传输控制协议</li>
<li>IP    互联网络协议</li>
</ul>
<h2 id="组成"><a href="#组成" class="headerlink" title="组成"></a>组成</h2><p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/%E5%8D%8F%E8%AE%AE/_v_images/_1525345982_3895.png" alt=""></p>
<p>当数据在网路中传输的时候，会依次进过每一层，最终呈现给用户</p>
<h2 id="TCP-IP体系和协议栈之间的关系"><a href="#TCP-IP体系和协议栈之间的关系" class="headerlink" title="TCP/IP体系和协议栈之间的关系"></a>TCP/IP体系和协议栈之间的关系</h2><p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/%E5%8D%8F%E8%AE%AE/_v_images/_1525346196_27548.png" alt=""></p>
<p>我们可以看出，我们熟知的<strong>DNS</strong>，<strong>FTP</strong>等等协议，都是在应用层上的协议，下面我用FTP做例子讲解这个<strong>从上到下</strong>又<strong>从下到上</strong>的过程</p>
<h3 id="基于TCP-IP的文件传输协议-FTP"><a href="#基于TCP-IP的文件传输协议-FTP" class="headerlink" title="基于TCP/IP的文件传输协议(FTP)"></a>基于TCP/IP的文件传输协议(FTP)</h3><p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/%E5%8D%8F%E8%AE%AE/_v_images/_1525346229_31122.png" alt=""></p>
<p>原始数据在应用层加上了一个<strong>FTP头</strong>之后，在传输层加上了<strong>TCP头</strong>，依次类推，到达目的之后，又<strong>反方向</strong>脱去数据头，最终呈现原始的数据</p>
<h2 id="数据链路层协议"><a href="#数据链路层协议" class="headerlink" title="数据链路层协议"></a>数据链路层协议</h2><p>这里我们稍微了解一下数据链路层协议</p>
<h3 id="SLIP"><a href="#SLIP" class="headerlink" title="SLIP"></a>SLIP</h3><p>全称是<strong>Serial Line IP</strong>，它是一种在串行线路上对<strong>IP</strong>数据报进行封装的简单形式 </p>
<h3 id="PPP"><a href="#PPP" class="headerlink" title="PPP"></a>PPP</h3><p>点对点协议修改了<strong>SLIP</strong>协议中的所有缺陷，与<strong>SLIP</strong>类似，<strong>PPP</strong>经常用于低速的串行链路</p>
<h2 id="网络层IP协议"><a href="#网络层IP协议" class="headerlink" title="网络层IP协议"></a>网络层IP协议</h2><p>网际协议(<strong>IP</strong>)主要负责在主机之间寻址和选择数据包的路由，<strong>IP</strong>协议不含错误恢复的编码，属于不可靠的协议</p>
<h2 id="MAC地址"><a href="#MAC地址" class="headerlink" title="MAC地址"></a>MAC地址</h2><p><strong>MAC</strong>地址是网路设备在出厂之前由厂家写入到硬件中的一个地址</p>
<p>当我们的设备接入网络之后，计算机会使用<strong>ARP协议</strong>来建立<strong>IP地址</strong>和<strong>MAC地址</strong>的映射表</p>
<p>为什么讲这个，<strong>ARP攻击</strong>的原理就是从这里引伸出来的</p>
<h2 id="IP地址的分类"><a href="#IP地址的分类" class="headerlink" title="IP地址的分类"></a>IP地址的分类</h2><p><strong>IP地址</strong>划分为<strong>A、B、C</strong>3类</p>
<p>由<strong>InternetNIC</strong>在全球范围内统一分配，<strong>D、E</strong>类为特殊地址（组播和广播）</p>
<h3 id="A类IP地址"><a href="#A类IP地址" class="headerlink" title="A类IP地址"></a>A类IP地址</h3><p>一个<strong>A类IP地址</strong>由<strong>1字节</strong>的网络地址和<strong>3字节</strong>主机地址组成，网络地址的最高位必须是0</p>
<p>地址范围从<strong>0.0.0.0</strong> 到<strong>127.255.255.255</strong></p>
<p>可用的<strong>A类网络</strong>有<strong>126</strong>个，每个网络能容纳<strong>1亿多</strong>个主机</p>
<p>A类的<strong>私有IP</strong>为</p>
<p><strong>10.0.0.0</strong> 到 <strong>10.255.255.255</strong></p>
<h3 id="B类IP地址"><a href="#B类IP地址" class="headerlink" title="B类IP地址"></a>B类IP地址</h3><p>一个<strong>B类IP地址</strong>由<strong>2个字节</strong>的网络地址和<strong>2个字节</strong>的主机地址组成，网络地址的最高位必须是10</p>
<p>地址范围从<strong>128.0.0.0</strong>到<strong>191.255.255.255</strong></p>
<p>可用的<strong>B类网络</strong>有<strong>16382</strong>个，每个网络能容纳<strong>6万多</strong>个主机 。 </p>
<p>B类的<strong>私有IP</strong>为</p>
<p><strong>172.16.0.0 </strong>到 <strong>172.31.255.255</strong></p>
<h3 id="C类IP地址"><a href="#C类IP地址" class="headerlink" title="C类IP地址"></a>C类IP地址</h3><p>一个<strong>C类IP地址</strong>由<strong>3字节</strong>的网络地址和<strong>1字节</strong>的主机地址组成，网络地址的最高位必须是110</p>
<p>范围从<strong>192.0.0.0</strong>到<strong>223.255.255.255</strong>，<strong>C类网络</strong>可达<strong>209万余</strong>个，每个网络能容纳<strong>254</strong>个主机。 </p>
<p>C类的<strong>私有IP</strong>为</p>
<p><strong>192.168.0.0 </strong>到 <strong>192.168.255.255</strong></p>
<p>现在我们大多数的<strong>家庭路由器</strong>都是工作在这个段里面</p>
<p>那么一个网络设备是如何能被其他网络设备发现的呢？</p>
<p>对于这么几个地址，做到<strong>知道</strong>并能<strong>区别</strong></p>
<h2 id="ARP"><a href="#ARP" class="headerlink" title="ARP"></a>ARP</h2><p><strong>ARP</strong>把基于<strong>TCP/IP</strong>软件使用的<strong>IP地址</strong>解析成局域网硬件使用的媒体访问控制(<strong>MAC地址</strong>)地址</p>
<h2 id="互连网控制报文协议ICMP"><a href="#互连网控制报文协议ICMP" class="headerlink" title="互连网控制报文协议ICMP"></a>互连网控制报文协议ICMP</h2><p><strong>ICMP</strong>传递差错报文以及其他需要注意的信息</p>
<p><strong>ICMP</strong>报文通常被网络层或更高层协议(<strong>TCP</strong>或<strong>UDP</strong>)使用，一些<strong>ICMP</strong>报文把差错报文返回给用户进程</p>
<p><strong>ICMP</strong>用来传送一些关于网络和主机的控制信息，如目标主机是不可到达的、路由的重定向等</p>
<p>常用的<strong>ping</strong>命令就是使用了<strong>ICMP</strong>协议，<strong>ICMP</strong>不为数据提供错误控制服务，只是报告数据出错并不再传送错误的数据，并在<strong>IP数据报</strong>的生存期过后将期抛弃</p>
<h2 id="传输层协议"><a href="#传输层协议" class="headerlink" title="传输层协议"></a>传输层协议</h2><p>传输层包括两个协议：</p>
<p>第一个是<strong>TCP协议</strong>，即传输控制协议，是一个可靠的、面向连接的协议</p>
<p>第二个是<strong>UDP协议</strong>，它采用无连接的方式，不管发送的数据包是否到达目的主机，数据包是否出错，收到数据包的主机也不会告诉发送方是否正确收到了数据，它的可靠性是由上层协议来保障的</p>
<h3 id="TCP协议"><a href="#TCP协议" class="headerlink" title="TCP协议"></a>TCP协议</h3><p>传输控制协议<strong>TCP</strong>将数据分成数据报，用能够到达目的地的路径信息连行包装,接收端则将这些数据进行重组。它提供可靠的、面向连接的数据报传递服务</p>
<h3 id="UDP协议"><a href="#UDP协议" class="headerlink" title="UDP协议"></a>UDP协议</h3><p>用户数据报协议<strong>UDP</strong>是无连接的服务，在无连接服务的情况下，两个实体之间的通信不需先建立好一个连接，因此其下层的有关资源不需要事先进行预定保留，这些资源将在数据传输时动态地进行分配</p>
<h2 id="端口"><a href="#端口" class="headerlink" title="端口"></a>端口</h2><p><strong>传输层</strong>就是通过<strong>协议端口</strong>(<strong>protocol port</strong>，简称<strong>端口</strong>)与<strong>应用层</strong>的应用程序进行信息交互的，应用层各种用户进程通过相应的端口与传输层实体进行信息交互</p>
<p><strong>端口</strong>实际上是一个<strong>16bit</strong>长的地址，范围可以从<strong>0</strong>至<strong>65535</strong></p>
<p>将<strong>0</strong>至<strong>1023</strong>端口号称为<strong>熟知端口</strong>(<strong>Well-Known Port</strong>)，其余<strong>1024</strong>至<strong>65535</strong>端口号称为<strong>一般端口</strong>或<strong>动态连接端口</strong>(<strong>Registered/Dynamic</strong>)</p>
<p>在数据传输过程中，应用层中的各种不同的服务器进程不断地检测分配给它们的端口，以便发现是否有某个应用进程要与它通信。</p>
<h2 id="TCP三次握手"><a href="#TCP三次握手" class="headerlink" title="TCP三次握手"></a>TCP三次握手</h2><p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/%E5%8D%8F%E8%AE%AE/_v_images/_1525348817_4797.png" alt=""></p>
<h2 id="TCP四次挥手"><a href="#TCP四次挥手" class="headerlink" title="TCP四次挥手"></a>TCP四次挥手</h2><p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/%E5%8D%8F%E8%AE%AE/_v_images/_1525348832_13378.png" alt=""></p>
<p>TCP/IP是全双工的，每个方向都必须单独进行关闭。</p>
<p>上图中1和3没有先后顺序，在2和3之间服务器仍可以向客户端发送数据，客户端此时只能接收数据，而不能发送数据。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/05/03/访问控制模型二/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/03/访问控制模型二/" itemprop="url">访问控制模型二</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-05-03T18:47:59+08:00">
                2018-05-03
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="访问控制模型二"><a href="#访问控制模型二" class="headerlink" title="访问控制模型二"></a>访问控制模型二</h1><h2 id="访问控制应用类型"><a href="#访问控制应用类型" class="headerlink" title="访问控制应用类型"></a>访问控制应用类型</h2><p>根据应用环境的不同，访问控制主要有以下三种：</p>
<ul>
<li>网络访问控制</li>
<li>主机、操作系统访问控制</li>
<li>应用程序访问控制</li>
</ul>
<h3 id="网络访问控制"><a href="#网络访问控制" class="headerlink" title="网络访问控制"></a>网络访问控制</h3><p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/WebGoat/Access_Control_Flaws/_v_images/_1525323472_18267.png" alt=""></p>
<p>访问控制机制应用在网络安全环境中，主要是限制用户可以建立什么样的连接以及通过网络传输什么样的数据，这就是传统的网络防火墙。防火墙作为网络边界阻塞点来过滤网络会话和数据传输。根据防火墙的性能和功能，这种控制可以达到不同的级别。</p>
<p>防火墙可实现以下几类访问控制：</p>
<ul>
<li><p>连接控制，控制哪些应用程序终结点之间可建立连接。例如，防火墙可控制内部的某些用户可以发起对外部<code>WEB</code>站点间的连接。</p>
</li>
<li><p>协议控制，控制用户通过一个应用程序可以进行什么操作，例如，防火墙可以允许用户浏览一个页面，同时拒绝用户在非信任的服务器上发布数据。</p>
</li>
<li><p>数据控制，防火墙可以控制应用数据流的通过。如防火墙可以阻塞邮件附件中的病毒。</p>
</li>
</ul>
<p>防火墙实现访问控制的尺度依赖于它所能实现的技术。</p>
<h3 id="主机-操作系统访问控制"><a href="#主机-操作系统访问控制" class="headerlink" title="主机/操作系统访问控制"></a>主机/操作系统访问控制</h3><p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/WebGoat/Access_Control_Flaws/_v_images/_1525323634_20102.png" alt=""></p>
<p>目前主流的操作系统均提供不同级别的访问控制功能。通常，操作系统借助访问控制机制来限制对文件及系统设备的访问。</p>
<p>例如：<code>Windows NT/2000</code>操作系统应用访问控制列表来对本地文件进行保护，访问控制列表指定某个用户可以读、写或执行某个文件。文件的所有者可以改变该文件访问控制列表的属性。</p>
<h3 id="应用程序访问控制"><a href="#应用程序访问控制" class="headerlink" title="应用程序访问控制"></a>应用程序访问控制</h3><p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/WebGoat/Access_Control_Flaws/_v_images/_1525323752_20213.png" alt=""></p>
<p>访问控制往往嵌入应用程序（或中间件）中以提供更细粒度的数据访问控制。当访问控制需要基于数据记录或更小的数据单元实现时，应用程序将提供其内置的访问控制模型。</p>
<p>例如，大多数数据库（如<code>Oracle</code>）都提供独立于操作系统的访问控制机制，<code>Oracle</code>使用其内部用户数据库，且数据库中的每个表都有自己的访问控制策略来支配对其记录的访问。</p>
<p>另外比较典型的例子是电子商务应用程序，该程序认证用户的身份并将其置于特定的组中，这些组对应用程序中的某一部分数据拥有访问权限。</p>
<h2 id="BLP-保密模型"><a href="#BLP-保密模型" class="headerlink" title="BLP 保密模型"></a>BLP 保密模型</h2><p><code>Bell-LaPadula</code>保密性模型是第一个能够提供分级别数据机密性保障的安全策略模型（多级安全）。</p>
<p>1973年，<code>David Bell</code>和<code>Len LaPadula</code>提出了第一个正式的安全模型，该模型基于强制访问控制系统，以敏感度来划分资源的安全级别。将数据划分为多安全级别与敏感度的系统称之为多级安全系统</p>
<p><code>Bell-LaPadula</code> (<code>BLP</code>) 安全模型对主体和客体按照强制访问控制系统的哲学进行分类，这种分类方法一般应用于军事用途。</p>
<p>数据和用户被划分为以下安全等级</p>
<ul>
<li>公开（Unclassified）</li>
<li>受限（Restricted）</li>
<li>秘密（Confidential）</li>
<li>机密（Secret）</li>
<li>高密（Top Secret）</li>
</ul>
<p><code>BLP 保密模型</code>基于两种规则来保障数据的机秘度与敏感度：</p>
<ul>
<li>上读(NRU) , 主体不可读安全级别高于它的数据</li>
<li>下写(NWD) , 主体不可写安全级别低于它的数据</li>
</ul>
<p>　　直接来讲，要考虑数据的保秘性. 例如.假如一个用户，他的安全级别为”高密”，想要访问安全级别为”秘密”的文档，他将能够成功读取该文件，但不能写入；而安全级别为”秘密”的用户访问安全级别为”高密”的文档，则会读取失败，但他能够写入。这样，文档的保秘性就得到了保障。</p>
<p>　　另外，目前不能在原有操作系统中直接进行安全分级。也就是说，在解决其易用性与功能单一性之前，<code>BLP模型</code>不能直接用于商业系统。</p>
<p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/WebGoat/Access_Control_Flaws/_v_images/_1525323995_20744.png" alt=""></p>
<p>图为一个用户和资源安全分级的例子。BLP模型允许用户读取安全级别比他低的资源；相反地，写入对象的安全级别只能高于用户级别。简言之，信息系统是一个由低到高的层次化结构。</p>
<p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/WebGoat/Access_Control_Flaws/_v_images/_1525324036_12570.png" alt=""></p>
<p>图示例在通讯过程中如何体现<code>BLP模型</code>思想，尽管这种应用在<code>BLP模型</code>的实际应用中并不多见。当企业的两个分支网络要跨越非可信网络进行互联时，我们可以为两个网络及其间传输的数据设定虚拟的安全标签，可以假设两个分支机构的安全级别均为”机秘”，而<code>Internet</code>，作为<code>VPN</code>的传输媒介，它的安全级别为”公开”，因此依照<code>BLP模型</code>，Internet上的用户仅可以看到”公开”的数据。而两个分支网络间的数据安全级别为”机秘”，因此，访问控制机制导致Internet用户不能访问”机秘”数据，而这是由于VPN使用了加密技术以实现访问控制机制。</p>
<p>　　另外的一个例子是防火墙所实现的单向访问机制，它不允许敏感数据从内部网络（例如，其安全级别为”机秘”）流向Internet（安全级别为”公开”），所有内部数据被标志为”机密”或”高密”。防火墙提供”上读”功能来阻止Internet对内部网络的访问，提供”下写”功能来限制进入内部的数据流只能经由由内向外发起的连接流入（例如，允许HTTP的”GET”操作而拒绝”POST”操作，或阻止任何外发的邮件）。</p>
<h2 id="Lattice安全模型"><a href="#Lattice安全模型" class="headerlink" title="Lattice安全模型"></a>Lattice安全模型</h2><p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/WebGoat/Access_Control_Flaws/_v_images/_1525324080_19633.png" alt=""></p>
<p>Lattice 模型通过划分安全边界对BLP模型进行了扩充，它将用户和资源进行分类，并允许它们之间交换信息，这是多边安全体系的基础。</p>
<p>　　多边安全的焦点是在不同的安全集束（部门，组织等）间控制信息的流动，而不仅是垂直检验其敏感级别。</p>
<p>　　建立多边安全的基础是为分属不同安全集束的主体划分安全等级，同样在不同安全集束中的客体也必须进行安全等级划分，一个主体可同时从属于多个安全集束，而一个客体仅能位于一个安全集束。</p>
<p>　　在执行访问控制功能时，lattice模型本质上同BLP模型是相同的，而lattice模型更注重形成”安全集束”。BLP模型中的”上读下写”原则在此仍然适用，但前提条件必须是各对象位于相同的安全集束中。主体和客体位于不同的安全集束时不具有可比性，因此在它们中没有信息可以流通。</p>
<p>　　例如，某用户有安全级别为”高密”并从属于安全集束”ALPHA”，另一个安全级别为”机密”的集束”BETA”中的用户试图访问从属于多个安全集束中的文件，若他需要访问集束”ALPHA”中安全级别为”机密”的文件，访问将被允许；而他访问集束”BETA”中的”机密”文件的试图将被拒绝。试图访问集束”GAMMA”中的任何对象都将被拒绝，因为其在集束”GAMMA”中不具有任何安全等级</p>
<h2 id="Biba完整性模型"><a href="#Biba完整性模型" class="headerlink" title="Biba完整性模型"></a>Biba完整性模型</h2><p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/WebGoat/Access_Control_Flaws/_v_images/_1525324129_14967.png" alt=""></p>
<p>七十年代，Ken Biba提出了Biba访问控制模型，该模型对数据提供了分级别的完整性保证，类似于BLP保密性模型，BIBA模型也使用强制访问控制系统。</p>
<p>　　Biba完整性模型对主体和客体按照强制访问控制系统的哲学进行分类，这种分类方法一般应用于军事用途。</p>
<p>　数据和用户被划分为以下安全等级</p>
<ul>
<li>公开（Unclassified）</li>
<li>受限（Restricted）</li>
<li>秘密（Confidential）</li>
<li>机密（Secret）</li>
<li>高密（Top Secret）</li>
</ul>
<p>BIBA模型基于两种规则来保障数据的完整性的保密性。</p>
<ul>
<li>下读(NRU) 属性, 主体不能读取安全级别低于它的数据</li>
<li>上写(NWD) 属性, 主体不能写入安全级别高于它的数据<br>  从这两个属性来看，我们发现Biba与BLP模型的两个属性是相反的，BLP模型提供保密性，而BIBA模型对于数据的完整性提供保障。</li>
</ul>
<p>　　BIBA模型并没有被用来设计安全操作系统，但大多数完整性保障机制都基于Biba模型的两个基本属性构建。</p>
<p>　　如图，一个安全级别为”机密”的用户要访问级别为”秘密”的文档，他将被允许写入该文档，而不能读取。如果他试图访问”高密”级的文档，那么，读取操作将被允许，而写入操作将被拒绝。这样，就使资源的完整性得到了保障。</p>
<p>　　因此，只有用户的安全级别高于资源的安全级别时可对资源进行写操作，相反地，只有用户的安全级别低于资源的安全经别时可读取该资源。简而言之，信息在系统中只能自上而下进行流动。</p>
<h3 id="应用举例"><a href="#应用举例" class="headerlink" title="应用举例"></a>应用举例</h3><p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/WebGoat/Access_Control_Flaws/_v_images/_1525324239_5044.png" alt=""></p>
<p>Biba模型在应用中的一个例子是对WEB服务器的访问过程。如图，定义Web服务器上发布的资源安全级别为”秘密”，Internet上用户的安全级别为”公开”，依照Biba模型，Web服务器上数据的完整性将得到保障，Internet上的用户只能读取服务器上的数据而不能更改它，因此，任何”POST”操作将被拒绝。</p>
<p>　　另一个例子是对系统状态信息的收集，网络设备作为对象，被分配的安全等级为”机密”，网管工作站的安全级别为”秘密”，那么网管工作站将只能使用SNMP的”get”命令来收集网络设备的状态信息，而不能使用”set”命令来更改该设备的设置。这样，网络设备的配置完整性就得到了保障。</p>
<h2 id="Clark-Wilson完整性模型"><a href="#Clark-Wilson完整性模型" class="headerlink" title="Clark Wilson完整性模型"></a>Clark Wilson完整性模型</h2><p>Clark-Wilson数据完整性安全模型是在1987年被提出的，通常被用在银行系统中来保证数据的完整性，该模型略显复杂，是为现代数据存储技术量身定制的。</p>
<p>　　Clark Wilson完整性模型经常应用在银行应用中以保证数据完整性，它的实现基于成形的事务处理机制。</p>
<ul>
<li>系统接受”自由数据条目 (UDI)”并将其转换为 “受限数据条目 (CDI)”</li>
<li>“受限数据条目 (CDI)”仅能被”转换程序（TP）”所改变</li>
<li>“转换程序 (TP)” 保证”受限数据条目 </li>
</ul>
<p>CDI”的完整性</p>
<ul>
<li>每个受限数据条目(CDI) 拥有一个完整性检查程序 (IVP)</li>
<li>访问控制机制由三个元素组成 (主体, TP, CDI)<h3 id="应用举例-1"><a href="#应用举例-1" class="headerlink" title="应用举例"></a>应用举例</h3><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/WebGoat/Access_Control_Flaws/_v_images/_1525324526_13251.png" alt=""></li>
</ul>
<p>图所示为Clark Wilson完整性模型在电子商务程序中的应用，用户接到自主数据条目（UDI）并由转换程序（TP）将其转换为受限数据条目（CDI）CDI1，CDI1用来更新CDI2（例如客户的订单）和CDI3（如客户的帐单），完整性检查程序（IVP）总是要检查是否CDI2（订单）和CDI3（帐单）是否出入平衡，因此可确保整个交易的完整性。</p>
<h2 id="Chinese-Wall模型"><a href="#Chinese-Wall模型" class="headerlink" title="Chinese Wall模型"></a>Chinese Wall模型</h2><p>Chinese Wall模型是应用在多边安全系统中的安全模型（也就是多个组织间的访问控制系统），应用在可能存在利益冲突的组织中。最初是为投资银行设计的，但也可应用在其它相似的场合。</p>
<p>Chinese Wall安全策略的基础是客户访问的信息不会与目前他们可支配的信息产生冲突。在投资银行中，一个银行会同时拥有多个互为竞争者的客户，一个银行家可能为一个客户工作，但他可以访问所有客户的信息。因此，应当制止该银行家访问其它客户的数据。</p>
<p>Chinese Wall安全模型的两个主要属性：</p>
<ul>
<li>用户必须选择一个他可以访问的区域</li>
<li>用户必须自动拒绝来自其它与用户所选区域的利益冲突区域的访问<br>  这种模型同时包括了DAC和MAC的属性：银行家可以选择为谁工作（DAC），但是一旦选定，他就被只能为该客户工作（MAC）。</li>
</ul>
<h3 id="应用示例"><a href="#应用示例" class="headerlink" title="应用示例"></a>应用示例</h3><p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/WebGoat/Access_Control_Flaws/_v_images/_1525325785_22005.png" alt=""></p>
<p>Chinese Wall安全模型在网络安全体系中应用的一个典型的例子是位于防火墙内部的一台服务器，连接着内部与外部网络。假如策略禁止经由此服务器转发数据，该服务器将曝露于外部网络（也就是说，该服务器仅能与外部网络通讯，而不能与内部网络通讯）</p>
<p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/WebGoat/Access_Control_Flaws/_v_images/_1525325812_5936.png" alt=""></p>
<p>　另外用远程访问VPN来举例说明，位于Internet上的用户与内部网络建立VPN会话之后。依照中国墙安全模型所建议，在任何时候，用户或与Internet通讯，或与公司网络进行通讯，二者只可选其一（也就是说：隧道不可分割）</p>
<p>　　单向会话只发生在有限的时间内，本安全模型的核心在于–用户选择与其中一方进行通讯，则放弃了与另一方会话的权利。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/05/02/Bypass-a-Path-Based-Access-Control/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/02/Bypass-a-Path-Based-Access-Control/" itemprop="url">Bypass-a-Path-Based-Access-Control</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-05-02T23:42:30+08:00">
                2018-05-02
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Bypass-a-Path-Based-Access-Control"><a href="#Bypass-a-Path-Based-Access-Control" class="headerlink" title="Bypass_a_Path_Based_Access_Control"></a>Bypass_a_Path_Based_Access_Control</h1><p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/WebGoat/Access_Control_Flaws/_v_images/_1525273137_22137.png" alt=""></p>
<h2 id="技术概念或主题（Concept-Topic-To-Teach）"><a href="#技术概念或主题（Concept-Topic-To-Teach）" class="headerlink" title="技术概念或主题（Concept / Topic To Teach）"></a>技术概念或主题（Concept / Topic To Teach）</h2><p>In a path based access control scheme, an attacker can traverse a path by providing relative path information. Therefore an attacker can use relative paths to access files that normally are not directly accessible by anyone, or would otherwise be denied if requested directly. </p>
<h2 id="技术原理（How-It-works）"><a href="#技术原理（How-It-works）" class="headerlink" title="技术原理（How It works）"></a>技术原理（How It works）</h2><p>大多数操作系统允许在路径中使用某些特征字符，如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">/etc/passwd</span><br><span class="line">~/.ssh</span><br><span class="line">./configure</span><br><span class="line">./../../../etc/passwd</span><br><span class="line">c:\boot.ini</span><br><span class="line">.\test.txt</span><br><span class="line">..\..\..\boot.ini</span><br><span class="line">file:///c:\bbot.ini</span><br><span class="line">c:\test~1.txt</span><br></pre></td></tr></table></figure></p>
<h2 id="总体目标（General-Goals）"><a href="#总体目标（General-Goals）" class="headerlink" title="总体目标（General Goals）"></a>总体目标（General Goals）</h2><p>The user should be able to access a file that is not in the listed directory.</p>
<h2 id="操作方法（Solutions）"><a href="#操作方法（Solutions）" class="headerlink" title="操作方法（Solutions）"></a>操作方法（Solutions）</h2><ul>
<li>选择一个文件，点击<code>View File</code>，然后抓包</li>
</ul>
<p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/WebGoat/Access_Control_Flaws/_v_images/_1525274080_5639.png" alt=""></p>
<ul>
<li>根据页面给出的文件目录，把文件名改为<code>../../../WEB-INF/spring-security.xml</code>，出现以下结果</li>
</ul>
<p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/WebGoat/Access_Control_Flaws/_v_images/_1525274191_21917.png" alt=""></p>
<ul>
<li>我的方法是正确的，但是这个危险的操作是被禁止的，改为<code>../ru/FailOpenAuthentication.html</code></li>
</ul>
<p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/WebGoat/Access_Control_Flaws/_v_images/_1525274852_29261.png" alt=""></p>
<ul>
<li>还是不行，把<code>spring-security.xml</code>的权限改为<code>777</code>，仍然失败，gg。</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/05/02/访问控制模型一/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/02/访问控制模型一/" itemprop="url">访问控制模型一</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-05-02T22:35:28+08:00">
                2018-05-02
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="访问控制模型一"><a href="#访问控制模型一" class="headerlink" title="访问控制模型一"></a>访问控制模型一</h1><h2 id="访问控制的概念"><a href="#访问控制的概念" class="headerlink" title="访问控制的概念"></a>访问控制的概念</h2><ul>
<li><strong>访问控制</strong>，作为提供信息安全保障的主要手段，及最为突出的安全机制, 被广泛地应用于防火墙、文件访问、VPN及物理安全等多个方面。 所有这些技术可归诸于几类访问控制模型，本文将一一介绍并以实例说明，以帮助设计者在多变的环境中解决相关安全问题。</li>
<li><strong>访问控制</strong>是信息安全保障机制的核心内容，它是实现<strong>数据保密性</strong>和<strong>完整性</strong>机制的主要手段。</li>
<li><strong>访问控制</strong>是为了限制<strong>访问主体</strong>（或称为发起者，是一个主动的实体；如用户、进程、服务等），对<strong>访问客体</strong>（需要保护的资源）的访问权限，从而使计算机系统在合法范围内使用；</li>
<li><strong>访问控制</strong>机制决定用户及代表一定用户利益的程序能做什么，及做到什么程度。</li>
</ul>
<h3 id="访问控制的两个重要过程"><a href="#访问控制的两个重要过程" class="headerlink" title="访问控制的两个重要过程"></a>访问控制的两个重要过程</h3><ul>
<li>通过”鉴别（<code>authentication</code>）”来检验主体的合法身份</li>
<li>通过”授权（<code>authorization</code>）”来限制用户对资源的访问级别</li>
</ul>
<h3 id="访问行为"><a href="#访问行为" class="headerlink" title="访问行为"></a>访问行为</h3><ul>
<li>访问包括读取数据，更改数据，运行程序，发起连接等。</li>
</ul>
<h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><ul>
<li>访问控制服务主要由<strong>访问控制模型</strong>和<strong>策略描述语言</strong>组成 </li>
<li>常见的访问控制模型主要是自主访问控制 <code>DAC</code>、强制访问控制 <code>MAC</code>、基于角色的访问控制 <code>RBAC</code>。 </li>
<li><strong>访问策略规则</strong>以及<strong>访问主体</strong>和<strong>访问客体</strong>三者是访问控制系统的基本条件。 </li>
<li><strong>访问主体</strong>：在信息环境中，对目标信息的获取通常是由访问主体发起的，访问主体需要遵循相应的规则，从而可以访问一定的客体。通常访问主体是用户开发和使用的应用程度。 </li>
<li><strong>访问客体</strong>：在信息系统中，客体可以被主体进行一定的访问行为操作。 </li>
<li><strong>安全访问策略</strong>：是为了保护信息安全性而制定的策略规则，规定了主体是否可以访问客体以及可以使用何种方式对客体进行访问。 </li>
<li>经典的三大模型<code>DAC</code>、<code>MAC</code>、<code>RBAC</code>，虽然现在在学术界这三大模型都遭到嫌弃，但是现有的访问控制模型其实都是在这三大模型上改改写写的。</li>
</ul>
<h2 id="自主访问控制（DAC-Discretionary-Access-Control）"><a href="#自主访问控制（DAC-Discretionary-Access-Control）" class="headerlink" title="自主访问控制（DAC,Discretionary Access Control）"></a>自主访问控制（DAC,Discretionary Access Control）</h2><ul>
<li>自主访问控制（<code>DAC</code>,<code>Discretionary Access Control</code>）比较基础和常用，在多种计算机系统中都会提供自主访问控制。</li>
<li>此种访问控制的基本思想是：访问控制中访问客体的拥有者具有很大的权限，能够决定客体是否可以被相应主体访问，并且可以迁移和转让访问客体。</li>
<li>在 <code>DAC</code> 模型中，访问权限是否进行授权需要根据主体情况并结合具体的安全规则从而做出判断。</li>
<li><code>DAC</code> 有<strong>访问控制矩阵</strong>和<strong>访问控制列表</strong>两种实施方式。 <h3 id="访问控制矩阵"><a href="#访问控制矩阵" class="headerlink" title="访问控制矩阵"></a>访问控制矩阵</h3>访问控制矩阵（<code>ACM</code>：<code>Acess Control Matrix</code>）中使用矩阵的列和行来分别对应访问主体和访问客体，二者交叉位置的元素则代表着相应的主体对客体的操作规则。<br><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/WebGoat/Access_Control_Flaws/_v_images/_1525256809_605.png" alt=""><h3 id="访问控制列表"><a href="#访问控制列表" class="headerlink" title="访问控制列表"></a>访问控制列表</h3></li>
<li>访问控制列表（<code>ACL</code>：<code>Access Control List</code>）是前面说介绍矩阵的一种变形。</li>
<li>列表对应某个固定客体，其中的列表示能够对此客体进行一定操作的主体。</li>
<li>第二列访问属性则表示二者对应的具体操作。如表 所示，是上表中客体 X 所对应的等价控制矩阵转化。</li>
<li>通过 <code>ACL</code> 可以方便的理解和查询某个客体所对应的特定权限主体，适用于稳定的主客体不太复杂的系统。在信息系统发生较大改变时，需要重新对访问控制列表进行相应修改，容易影响系统安全性。</li>
</ul>
<p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/WebGoat/Access_Control_Flaws/_v_images/_1525256836_10032.png" alt=""></p>
<p><code>DAC</code> 在进行授权时相对灵活，访问控制中客体的所有者可以将其所有用的权限进行转移，从而具有很好的灵活性，适用范围比较广，因而可以用于多个系统。但是，<code>DAC</code> 存在几个缺点：</p>
<ul>
<li>由于权限可以进行委托，会导致资源管理比较分散，同时增加了系统的风险性。 </li>
<li>不能够适应多域安全策略环境，以及在环境策略变化的情况下无法保证整体的安全性。 </li>
<li>访问控制权限容易发生转移，同时，在主体与客体数量较多时，会给系统带来巨大开销，导致效率低下，<strong>不能很好的适应交大规模的网络环境</strong>。</li>
</ul>
<h2 id="强制访问控制（MAC）"><a href="#强制访问控制（MAC）" class="headerlink" title="强制访问控制（MAC）"></a>强制访问控制（MAC）</h2><ul>
<li>强制访问控制（<code>MAC</code>：<code>Mandatory Acess Control</code>）在十八世纪七十年代就已经提出，在 <code>Multics</code> 模型上得到最早使用和验证，与前面介绍的自主访问控制相比，定义规则和策略相对更加严格。</li>
<li><code>MAC</code> 设计的基本思想是：在访问控制系统中，主体和客体被分配一定的安全属性，然后系统对二者所拥有的属性关系进行一定的评价比较，从而确定是否进行访问。</li>
<li>也就是说这是一种多级表示模型。比较关系来源于安全属性，并且用（安全级别，类型集合）这样的组合代表安全属性。</li>
<li>类型集合是指一定的元素的集体，而安全等级则表示相应信息的保密等级。在系统中安全属性是由维护系统的管理人员进行配置的，或者是系统自动生成的，这种安全属性是不能随意被修改的，具有强制认可性。 </li>
<li><code>MAC</code> 具有强制性和严格的单向不可逆性。</li>
<li><code>MAC</code> 系统规定高级别主体可以得到低级别主体的信息，而反过来却行不通。</li>
<li>如果主体<code>A</code> 的级别高于客体<code>B</code>，那么主体 <code>A</code> 可以读取客体<code>B</code> 中的信息和资源；如果主体 <code>A</code> 的级别低于主体 <code>B</code> 的级别，那么主体 <code>A</code> 可以对主体 <code>B</code> 进行一定的诸如写入的操作；如果主体 <code>A</code>和客体<code>B</code>的等级是相同的，那么主体<code>A</code> 和客体 <code>B</code> 之间不能进行任何读与写的操作。</li>
<li>这意味着在 <code>MAC</code> 模型的信息始终遵循单向流通的规则，因而可以保证系统信息的安全。如图 所示。</li>
</ul>
<p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/WebGoat/Access_Control_Flaws/_v_images/_1525256893_20596.png" alt=""></p>
<p>强制访问控制中最具有代表性的就是 <code>BLP</code> 模型。</p>
<h2 id="基于角色的访问控制（RBAC）"><a href="#基于角色的访问控制（RBAC）" class="headerlink" title="基于角色的访问控制（RBAC）"></a>基于角色的访问控制（RBAC）</h2><ul>
<li>基于角色的访问控制（<code>RBAC</code>）是在上世纪九十年代被提出，是一种评估效果比较好的访问控制信息技。</li>
<li>在此种模型中，主体与客体并不是直接发生联系，而是增加了角色这一层次，先将访问操作的权限匹配给某些角色，然后在将这些特定的角色指定给相应的主体，通过这种方式主体就得到了对客体的访问权限。</li>
</ul>
<p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/WebGoat/Access_Control_Flaws/_v_images/_1525256928_28770.png" alt=""></p>
<p>基于角色使得主体和客体之间的关系不是通过他们之间的映射来建立，而是中间有了周转，多了一个角色这个中转站。</p>
<h4 id="RBAC模型简介"><a href="#RBAC模型简介" class="headerlink" title="RBAC模型简介"></a>RBAC模型简介</h4><p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/WebGoat/Access_Control_Flaws/_v_images/_1525258602_21653.png" alt=""></p>
<ul>
<li>模型中主要定义了：用户(<code>User</code>)，角色(<code>Role</code>)和用户权限（<code>Permission</code>）三个主要实体，以及会话(<code>Session</code>)和限制(<code>Constraint</code>)的概念及其之间的关系。</li>
<li>其中，权限是指针对信息系统的操作权利，不同的角色或者不同级别的角色被赋予不同的权限，系统用户又被赋予一定的(一个或多个)角色。从而用户与角色之间，角色和权限之间均是一个多对多的<br>关系，用户和权限之间则没有直接的关系，而是根据所具有的责任被赋予某种角色，从而拥有角色相<br>应的权限。其授权模型示意图如上图所示。</li>
<li>在<code>RBAC</code>模型中，角色是一个相对的概念，用户与角色之间是多对多的关系，并且这一关系可以迅速变化，即用户所”扮演”的角色可以经常的发生变化；角色与权限之间也是多对多的关系，但是这一关系的变化则相对比较的缓慢，即角色拥有的权限是相对稳定。</li>
<li>会话集合中的每个黑点代表一个会话，它控制一个用户的多个角色，有效的控制角色之间的冲突。</li>
<li>即当一个被赋予多个角色的用户使用系统时，这些角色将分为属于若干个会话。</li>
<li>用户在任一时间内，只激活一个会话，从而用户在该时间类仅能扮演该激活会话中所包含的角色，其他角色在该段时间将为禁用。</li>
<li>使用<code>RBAC</code>模型能够通过用户授权(给用户指定角色)和角色授权(给角色分配操作权限)二个步骤实现完善的用户权限管理。<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2>然后随着云计算的出现，又出现了基于属性的访问控制<code>ABAC</code>，大家可以自行去查资料。基于属性的访问控制很厉害，它具有环境属性，而且可以把角色啊、客体啊、主体啊都当作一种属性，这种细粒度的访问控制安全性能很强，而且还能把数据挖掘的思想运用进来。</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/05/02/Using-an-Access-Control-Matrix/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/02/Using-an-Access-Control-Matrix/" itemprop="url">Using-an-Access-Control-Matrix</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-05-02T11:03:27+08:00">
                2018-05-02
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Using-an-Access-Control-Matrix"><a href="#Using-an-Access-Control-Matrix" class="headerlink" title="Using_an_Access_Control_Matrix"></a>Using_an_Access_Control_Matrix</h1><p>使用访问控制模型<br><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/WebGoat/Access_Control_Flaws/_v_images/_1525229245_8386.png" alt=""></p>
<h2 id="技术概念或主题（Concept-Topic-To-Teach）"><a href="#技术概念或主题（Concept-Topic-To-Teach）" class="headerlink" title="技术概念或主题（Concept / Topic To Teach）"></a>技术概念或主题（Concept / Topic To Teach）</h2><blockquote>
<p>In a role-based access control scheme, a role represents a set of access permissions and privileges. A user can be assigned one or more roles. A role-based access control scheme normally consists of two parts: role permission management and role assignment. A broken role-based access control scheme might allow a user to perform accesses that are not allowed by his/her assigned roles, or somehow allow privilege escalation to an unauthorized role.</p>
</blockquote>
<blockquote>
<p>在一个基于角色的访问控制方案中，角色代表了一组访问权限和特权。一个用户可以被<br>分配一个或多个角色。一个基于角色的访问控制方案通常有两个部分组成：角色权限管理和<br>角色分配。一个被破坏的基于角色的访问控制方案可能允许用户执行不允许他/她的被分配<br>的角色，或以某种方式允许特权升级到未经授权的角色的访问。</p>
</blockquote>
<h2 id="技术原理（How-It-works）"><a href="#技术原理（How-It-works）" class="headerlink" title="技术原理（How It works）"></a>技术原理（How It works）</h2><p>这个控制方案本身有缺陷</p>
<h2 id="总体目标（General-Goals）"><a href="#总体目标（General-Goals）" class="headerlink" title="总体目标（General Goals）"></a>总体目标（General Goals）</h2><blockquote>
<p>Each user is a member of a role that is allowed to access only certain resources. Your goal is to explore the access control rules that govern this site. Only the [Admin] group should have access to the ‘Account Manager’ resource.</p>
</blockquote>
<blockquote>
<p>每个用户都是角色的成员，每个角色只允许访问那些特定的资源。您的目标是浏览本站<br>管理所使用的访问控制规则。只有“Admin”组才能够访问“帐号管理”资源。</p>
</blockquote>
<h2 id="操作方法（Solutions）"><a href="#操作方法（Solutions）" class="headerlink" title="操作方法（Solutions）"></a>操作方法（Solutions）</h2><blockquote>
<p>This exercise is straightforward. You need to find a user where you can access a resource that you shouldn’t be able to access.</p>
</blockquote>
<p><img src="https://github.com/Anthem9/vnote/raw/master/vnotebook/WebGoat/Access_Control_Flaws/_v_images/_1525229372_2326.png" alt=""></p>
<blockquote>
<p>After a few attempts you will learn that Larry can access resources of the role Account Manager.</p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">John Doe</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">23</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">18</span>
                  <span class="site-state-item-name">tags</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
